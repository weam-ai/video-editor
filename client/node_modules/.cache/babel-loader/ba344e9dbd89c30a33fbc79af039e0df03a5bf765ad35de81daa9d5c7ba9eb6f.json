{"ast":null,"code":"var _jsxFileName = \"/Users/kshitijvarma/Desktop/ai-doc-editor/AI-VideoGen/client/src/components/VideoEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { Play, Pause, Scissors, Square, Music, Download, Save, ChevronLeft, History, Crop } from 'lucide-react';\nimport { useVideo } from '../context/VideoContext';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiBase = process.env.REACT_APP_API_BASE || 'http://localhost:3004/api';\nexport default function VideoEditor() {\n  _s();\n  const {\n    videoId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    videos\n  } = useVideo();\n  const current = useMemo(() => videos.find(v => v.videoId === videoId), [videos, videoId]);\n  const videoRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [duration, setDuration] = useState(0);\n  const [trimStart, setTrimStart] = useState(0);\n  const [trimEnd, setTrimEnd] = useState(0);\n  const [cropRect, setCropRect] = useState(null); // { x, y, width, height }\n  const [musicUrl, setMusicUrl] = useState('');\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (!current) return;\n    setTrimStart(0);\n    setTrimEnd(current.duration || 0);\n  }, [current]);\n  useEffect(() => {\n    async function fetchHistory() {\n      try {\n        const res = await fetch(`${apiBase}/videos/${videoId}/edits`, {\n          credentials: 'include'\n        });\n        if (res.status === 401) {\n          window.location.href = 'https://app.weam.ai/login';\n          return;\n        }\n        const data = await res.json();\n        setHistory(data.edits || []);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    fetchHistory();\n  }, [videoId]);\n  const togglePlay = () => {\n    const v = videoRef.current;\n    if (!v) return;\n    if (isPlaying) {\n      v.pause();\n      setIsPlaying(false);\n    } else {\n      v.play();\n      setIsPlaying(true);\n    }\n  };\n  const onLoadedMetadata = () => {\n    const v = videoRef.current;\n    if (!v) return;\n    setDuration(v.duration);\n    if (!trimEnd || trimEnd === 0) setTrimEnd(Math.floor(v.duration));\n  };\n  const onTimeUpdate = () => {\n    const v = videoRef.current;\n    if (!v) return;\n    if (v.currentTime < trimStart) v.currentTime = trimStart;\n    if (v.currentTime > trimEnd) {\n      v.pause();\n      setIsPlaying(false);\n      v.currentTime = trimStart;\n    }\n  };\n  const onTimelineChange = val => {\n    const v = videoRef.current;\n    if (!v) return;\n    v.currentTime = Number(val);\n  };\n  const submitEdits = async (downloadAfter = false) => {\n    if (trimStart >= trimEnd) {\n      toast.error('Invalid trim range');\n      return;\n    }\n    setLoading(true);\n    try {\n      var _data$edit;\n      const res = await fetch(`${apiBase}/videos/${videoId}/process-edits`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          trimStart: Math.floor(trimStart),\n          trimEnd: Math.floor(trimEnd),\n          outputFormat: 'mp4',\n          crop: cropRect,\n          music: musicUrl || null\n        })\n      });\n      if (res.status === 401) {\n        window.location.href = 'https://app.weam.ai/login';\n        return;\n      }\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Failed to process edits');\n      toast.success('Edits saved');\n      setHistory(h => [data.edit, ...h]);\n      if (downloadAfter && (_data$edit = data.edit) !== null && _data$edit !== void 0 && _data$edit.outputUrl) {\n        window.open(data.edit.outputUrl, '_blank');\n      }\n    } catch (e) {\n      console.error(e);\n      toast.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (!current) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"inline-flex items-center text-sm text-gray-600 hover:text-gray-900\",\n        children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n          className: \"h-4 w-4 mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), \" Back\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 text-gray-500\",\n        children: \"Video not found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen flex flex-col bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between border-b px-4 py-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: \"px-3 py-1.5 rounded border\",\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium\",\n          children: [\"Editing: \", current.title || current.videoId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => submitEdits(false),\n          disabled: loading,\n          className: \"px-3 py-1.5 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 inline-flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(Save, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), \" Save\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => submitEdits(true),\n          disabled: loading,\n          className: \"px-3 py-1.5 border rounded inline-flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), \" Save & Download\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-1 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col items-center justify-start p-4 overflow-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full max-w-4xl bg-black rounded-lg overflow-hidden\",\n          children: current.videoUrl ? /*#__PURE__*/_jsxDEV(\"video\", {\n            ref: videoRef,\n            src: current.videoUrl,\n            className: \"w-full h-auto\",\n            onLoadedMetadata: onLoadedMetadata,\n            onTimeUpdate: onTimeUpdate,\n            controls: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white p-8\",\n            children: \"Video processing...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 flex items-center gap-3 w-full max-w-4xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: togglePlay,\n            className: \"px-3 py-1.5 border rounded inline-flex items-center gap-1\",\n            children: [isPlaying ? /*#__PURE__*/_jsxDEV(Pause, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 28\n            }, this) : /*#__PURE__*/_jsxDEV(Play, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 60\n            }, this), \" \", isPlaying ? 'Pause' : 'Play']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              min: 0,\n              max: Math.floor(duration) || 0,\n              step: 1,\n              onChange: e => onTimelineChange(e.target.value),\n              className: \"w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 w-28 text-right\",\n            children: [Math.floor(duration), \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 grid grid-cols-3 gap-4 w-full max-w-4xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Trim Start (s)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"w-full border rounded px-2 py-1\",\n              value: trimStart,\n              min: 0,\n              max: trimEnd,\n              onChange: e => setTrimStart(Number(e.target.value))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Trim End (s)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"w-full border rounded px-2 py-1\",\n              value: trimEnd,\n              min: trimStart,\n              max: Math.floor(duration),\n              onChange: e => setTrimEnd(Number(e.target.value))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Music URL (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"w-full border rounded px-2 py-1\",\n              value: musicUrl,\n              onChange: e => setMusicUrl(e.target.value),\n              placeholder: \"https://.../music.mp3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-80 border-l p-4 flex flex-col gap-4 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium mb-2\",\n            children: \"Tools\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between border rounded p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Scissors, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 58\n                }, this), \" Trim\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between border rounded p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Crop, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 58\n                }, this), \" Crop\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setCropRect({\n                  x: 0,\n                  y: 0,\n                  width: 1,\n                  height: 1\n                }),\n                className: \"text-sm underline\",\n                children: \"Auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between border rounded p-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Music, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 58\n                }, this), \" Music\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium mb-2 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(History, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 71\n            }, this), \" History\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [history.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-500\",\n              children: \"No edits yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), history.map(h => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border rounded p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-medium\",\n                children: h.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500\",\n                children: new Date(h.createdAt).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs mt-1\",\n                children: h.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this), h.outputUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n                href: h.outputUrl,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                className: \"text-xs text-primary-600 underline\",\n                children: \"Download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 21\n              }, this)]\n            }, h.editId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n_s(VideoEditor, \"+0aSIb0VNIh+vt18a51p1o+3GKA=\", false, function () {\n  return [useParams, useNavigate, useVideo];\n});\n_c = VideoEditor;\nvar _c;\n$RefreshReg$(_c, \"VideoEditor\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useParams","Link","useNavigate","Play","Pause","Scissors","Square","Music","Download","Save","ChevronLeft","History","Crop","useVideo","toast","jsxDEV","_jsxDEV","apiBase","process","env","REACT_APP_API_BASE","VideoEditor","_s","videoId","navigate","videos","current","find","v","videoRef","isPlaying","setIsPlaying","duration","setDuration","trimStart","setTrimStart","trimEnd","setTrimEnd","cropRect","setCropRect","musicUrl","setMusicUrl","history","setHistory","loading","setLoading","fetchHistory","res","fetch","credentials","status","window","location","href","data","json","edits","e","console","error","togglePlay","pause","play","onLoadedMetadata","Math","floor","onTimeUpdate","currentTime","onTimelineChange","val","Number","submitEdits","downloadAfter","_data$edit","method","headers","body","JSON","stringify","outputFormat","crop","music","ok","Error","success","h","edit","outputUrl","open","message","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","title","onClick","disabled","videoUrl","ref","src","controls","type","min","max","step","onChange","target","value","placeholder","x","y","width","height","length","map","Date","createdAt","toLocaleString","rel","editId","_c","$RefreshReg$"],"sources":["/Users/kshitijvarma/Desktop/ai-doc-editor/AI-VideoGen/client/src/components/VideoEditor.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { Play, Pause, Scissors, Square, Music, Download, Save, ChevronLeft, History, Crop } from 'lucide-react';\nimport { useVideo } from '../context/VideoContext';\nimport toast from 'react-hot-toast';\n\nconst apiBase = process.env.REACT_APP_API_BASE || 'http://localhost:3004/api';\n\nexport default function VideoEditor() {\n  const { videoId } = useParams();\n  const navigate = useNavigate();\n  const { videos } = useVideo();\n  const current = useMemo(() => videos.find(v => v.videoId === videoId), [videos, videoId]);\n\n  const videoRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [duration, setDuration] = useState(0);\n  const [trimStart, setTrimStart] = useState(0);\n  const [trimEnd, setTrimEnd] = useState(0);\n  const [cropRect, setCropRect] = useState(null); // { x, y, width, height }\n  const [musicUrl, setMusicUrl] = useState('');\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!current) return;\n    setTrimStart(0);\n    setTrimEnd(current.duration || 0);\n  }, [current]);\n\n  useEffect(() => {\n    async function fetchHistory() {\n      try {\n        const res = await fetch(`${apiBase}/videos/${videoId}/edits`, {\n          credentials: 'include'\n        });\n        if (res.status === 401) {\n          window.location.href = 'https://app.weam.ai/login';\n          return;\n        }\n        const data = await res.json();\n        setHistory(data.edits || []);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n    fetchHistory();\n  }, [videoId]);\n\n  const togglePlay = () => {\n    const v = videoRef.current;\n    if (!v) return;\n    if (isPlaying) {\n      v.pause();\n      setIsPlaying(false);\n    } else {\n      v.play();\n      setIsPlaying(true);\n    }\n  };\n\n  const onLoadedMetadata = () => {\n    const v = videoRef.current;\n    if (!v) return;\n    setDuration(v.duration);\n    if (!trimEnd || trimEnd === 0) setTrimEnd(Math.floor(v.duration));\n  };\n\n  const onTimeUpdate = () => {\n    const v = videoRef.current;\n    if (!v) return;\n    if (v.currentTime < trimStart) v.currentTime = trimStart;\n    if (v.currentTime > trimEnd) {\n      v.pause();\n      setIsPlaying(false);\n      v.currentTime = trimStart;\n    }\n  };\n\n  const onTimelineChange = (val) => {\n    const v = videoRef.current;\n    if (!v) return;\n    v.currentTime = Number(val);\n  };\n\n  const submitEdits = async (downloadAfter = false) => {\n    if (trimStart >= trimEnd) {\n      toast.error('Invalid trim range');\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch(`${apiBase}/videos/${videoId}/process-edits`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({\n          trimStart: Math.floor(trimStart),\n          trimEnd: Math.floor(trimEnd),\n          outputFormat: 'mp4',\n          crop: cropRect,\n          music: musicUrl || null,\n        })\n      });\n      if (res.status === 401) {\n        window.location.href = 'https://app.weam.ai/login';\n        return;\n      }\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error || 'Failed to process edits');\n      toast.success('Edits saved');\n      setHistory((h) => [data.edit, ...h]);\n      if (downloadAfter && data.edit?.outputUrl) {\n        window.open(data.edit.outputUrl, '_blank');\n      }\n    } catch (e) {\n      console.error(e);\n      toast.error(e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!current) {\n    return (\n      <div className=\"p-6\">\n        <Link to=\"/\" className=\"inline-flex items-center text-sm text-gray-600 hover:text-gray-900\">\n          <ChevronLeft className=\"h-4 w-4 mr-1\" /> Back\n        </Link>\n        <div className=\"mt-6 text-gray-500\">Video not found.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col bg-white\">\n      <div className=\"flex items-center justify-between border-b px-4 py-3\">\n        <div className=\"flex items-center gap-3\">\n          <Link to=\"/\" className=\"px-3 py-1.5 rounded border\">‚Üê Back</Link>\n          <div className=\"font-medium\">Editing: {current.title || current.videoId}</div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button onClick={() => submitEdits(false)} disabled={loading} className=\"px-3 py-1.5 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 inline-flex items-center gap-1\">\n            <Save className=\"h-4 w-4\" /> Save\n          </button>\n          <button onClick={() => submitEdits(true)} disabled={loading} className=\"px-3 py-1.5 border rounded inline-flex items-center gap-1\">\n            <Download className=\"h-4 w-4\" /> Save & Download\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* Center: Player and timeline */}\n        <div className=\"flex-1 flex flex-col items-center justify-start p-4 overflow-auto\">\n          <div className=\"w-full max-w-4xl bg-black rounded-lg overflow-hidden\">\n            {current.videoUrl ? (\n              <video\n                ref={videoRef}\n                src={current.videoUrl}\n                className=\"w-full h-auto\"\n                onLoadedMetadata={onLoadedMetadata}\n                onTimeUpdate={onTimeUpdate}\n                controls={false}\n              />\n            ) : (\n              <div className=\"text-white p-8\">Video processing...</div>\n            )}\n          </div>\n          <div className=\"mt-3 flex items-center gap-3 w-full max-w-4xl\">\n            <button onClick={togglePlay} className=\"px-3 py-1.5 border rounded inline-flex items-center gap-1\">\n              {isPlaying ? <Pause className=\"h-4 w-4\" /> : <Play className=\"h-4 w-4\" />} {isPlaying ? 'Pause' : 'Play'}\n            </button>\n            <div className=\"flex-1\">\n              <input\n                type=\"range\"\n                min={0}\n                max={Math.floor(duration) || 0}\n                step={1}\n                onChange={(e) => onTimelineChange(e.target.value)}\n                className=\"w-full\"\n              />\n            </div>\n            <div className=\"text-sm text-gray-600 w-28 text-right\">\n              {Math.floor(duration)}s\n            </div>\n          </div>\n\n          <div className=\"mt-4 grid grid-cols-3 gap-4 w-full max-w-4xl\">\n            <div className=\"col-span-1\">\n              <label className=\"text-sm text-gray-600\">Trim Start (s)</label>\n              <input type=\"number\" className=\"w-full border rounded px-2 py-1\" value={trimStart} min={0} max={trimEnd}\n                onChange={(e) => setTrimStart(Number(e.target.value))} />\n            </div>\n            <div className=\"col-span-1\">\n              <label className=\"text-sm text-gray-600\">Trim End (s)</label>\n              <input type=\"number\" className=\"w-full border rounded px-2 py-1\" value={trimEnd} min={trimStart} max={Math.floor(duration)}\n                onChange={(e) => setTrimEnd(Number(e.target.value))} />\n            </div>\n            <div className=\"col-span-1\">\n              <label className=\"text-sm text-gray-600\">Music URL (optional)</label>\n              <input type=\"text\" className=\"w-full border rounded px-2 py-1\" value={musicUrl}\n                onChange={(e) => setMusicUrl(e.target.value)} placeholder=\"https://.../music.mp3\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Right: Tools and History */}\n        <div className=\"w-80 border-l p-4 flex flex-col gap-4 overflow-y-auto\">\n          <div>\n            <div className=\"font-medium mb-2\">Tools</div>\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center justify-between border rounded p-2\">\n                <div className=\"flex items-center gap-2\"><Scissors className=\"h-4 w-4\" /> Trim</div>\n              </div>\n              <div className=\"flex items-center justify-between border rounded p-2\">\n                <div className=\"flex items-center gap-2\"><Crop className=\"h-4 w-4\" /> Crop</div>\n                <button onClick={() => setCropRect({ x: 0, y: 0, width: 1, height: 1 })} className=\"text-sm underline\">Auto</button>\n              </div>\n              <div className=\"flex items-center justify-between border rounded p-2\">\n                <div className=\"flex items-center gap-2\"><Music className=\"h-4 w-4\" /> Music</div>\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <div className=\"font-medium mb-2 flex items-center gap-2\"><History className=\"h-4 w-4\" /> History</div>\n            <div className=\"space-y-2\">\n              {history.length === 0 && (\n                <div className=\"text-sm text-gray-500\">No edits yet.</div>\n              )}\n              {history.map((h) => (\n                <div key={h.editId} className=\"border rounded p-2\">\n                  <div className=\"text-sm font-medium\">{h.type}</div>\n                  <div className=\"text-xs text-gray-500\">{new Date(h.createdAt).toLocaleString()}</div>\n                  <div className=\"text-xs mt-1\">{h.status}</div>\n                  {h.outputUrl && (\n                    <a href={h.outputUrl} target=\"_blank\" rel=\"noreferrer\" className=\"text-xs text-primary-600 underline\">Download</a>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}